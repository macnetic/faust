\mainpage FAµST Home

\section intro_sec Introduction
FAµST is a C++ library that implements a way to decompose a given matrix into a product of sparse matrix in order to reduce multiplication costs by the matrix. <br>
FaµST can be widely used to speed up iterative algorithm commonly used for solving high dimensional linear inverse problems. <br>
It is delivered with Matlab wrapper. <br>
<br>
The description of Faust's project is available in articles written by Luc Le Magoarou and Rémi Gribonval at : <a href="https://hal.archives-ouvertes.fr/hal-01167948v1"> link1 </a> and <a href="https://hal.archives-ouvertes.fr/hal-01156478v1"> link2 </a>. <br>
FAµST is developped at <a href="http://www.inria.fr/en/centre/rennes"> Rennes INRIA</a> by <a href="https://team.inria.fr/panama/fr/">Panama team </a>. <br>
For more information on the FAµST Project, please visit the <a href="http://faust.gforge.inria.fr"> website</a>. <br> 

<HR>
\section install_sec Installation

\subsection step1 Step 1: Download FAµST
FAµST Project is available on subversion repository. 
	- svn co ./FAUST  <br>

\subsection step2 Step 2:  Dependency 
	- library  OpenBLAS http://www.openblas.net/
	- library  HDF5 https://www.hdfgroup.org/HDF5/release/obtainsrc.html#conf
	- library  MATIO is an C library for reading and writing MATLAB MAT files. https://sourceforge.net/projects/matio/ <br>
		   matio must be build with hdf5 : Support for MAT file version 7.3 requires the HDF5 library <br>
		   ./configure --enable-extended-sparse=yes --with-matlab=matlab --with-hdf5=/home/library/hdf5-1.8.16/src/.libs <br>
		   make <br>
		   make check <br>
	- MATLAB   Version 2014b <br>
	- GCC 4.7  Comptatible with GCC matlab for mex tools <br>


\subsection step3 Step 3: Configure
	- ./cmake ../..  <br>
	[option] : <br>
		-G "CodeBlocks - Unix Makefiles"	-->	indicates that create both makefile and codeBlock projets. <br>
		-DCMAKE_BUILD_TYPE="Debug" 		-->	indicates that compilation is in debug mode.  <br>

\subsection step4 Step 4: Make
	- make -j4 		--> 	build with 4 threads <br>
 	- build from codeBlock 	--> 	In debug mode for example <br>

\subsection step5 Step 5: Make install
	- make install 	--> 	copy binary, libraries and documentation in the default output path. 

<HR>
\section Example_sec Target & Example

Here is some examples of algorithm of the project FAUST. <br>

\subsection Target1 Target 1 : hierarchicalFactorization_FPP
./build/demo/run_test/src/hierarchicalFactorization_FPP.cpp <br>
Run the hierarchical factorization from a dense matrix contained in a file (can be MEG, Hierfact_compare or HADAMARD or other matrix; cf. directory ./misc/data/mat/ for data example). <br>
The precision FPP (Floating Point Precision) can be double or float. <br>
target name : build/demo/run_test/bin/hierarchicalFactorization_FPP <br>

\subsection Target2 Target 2 : hierarchicalFactorization_gpu_FPP
build/demo/run_test/src/hierarchicalFactorization_gpu_FPP.cpp <br>
Run the hierarchical factorization from a dense matrix contained in a file (can be MEG or other matrix). <br>
The precision FPP (Floating Point Precision) can be double or float. <br>
target name : build/demo/run_test/bin/hierarchicalFactorization_gpu_FPP <br>

#	 - Compute the multiplication between an faust-matrix and a vector.  <br>
#	 - Evaluation of the time difference using faust-matrix and classical matrix (apply on MEG experiment or dictionnary learning).  <br>
#target name : testing/bin/faust_test <br>


\subsection Target3 Target 3 : test_palm4MSA_FPP
./build/demo/run_test/src/test_palm4MSA_FPP.cpp <br>
Run a test of palm4MSA <br>
The precision FPP (Floating Point Precision) can be double or float. <br>
target name : build/demo/run_test/bin/test_palm4MSA_FPP <br>
or ./build/FAUST_OUTPUT/bin/test_palm4MSA_FPP<br>


\subsection Target4 Target 4 : multiply_compare_time_FPP
palm4MSA_test.cpp <br>
Use this script to make runtime comparison between Faust-vector product and Dense matrix-vector product , this script takes two arguments : <br>
	- inputfile Faust_example.mat where all the Fausts with different Density, Dimensions and number of factor are stored.<br>
This input file is generated by test/gen_artificial_faust.m (default input file /home/aleman/WORK/FAUST/faust_v1.10/misc/data/mat/Faust_example.mat)<br>
	- parameter NB_run the number multiplication made per given configuration (dimension, number of factor, RCG) (default value 100)<br>
<br>
The different computed times are stored in a single mat file :
	- \output matfile /home/aleman/WORK/FAUST/faust_v1.10/build/demo/run_test/output/multiply_compare_time.mat
all the different computed times are stored in this single mat file into several variables
tdense : 4D array where all the dense time multiplication are stored
tfaust : 4D array where all the faust time multiplication are stored
DIMS : vector listing all the different dimension that are stored
RCGS : vector listing all the different (Ratio Complexity Gain (theoritical speed-up for faust multiplication))
NB_FACTS : vector listing all the different number of factor for a each configuration of faust
NB_RUN : number, the number of multiplication per configuration



\subsection Target5 Target 5 : launch_hierarchical_fact
configuration file : cmd_line/cmdline_function/launch_hierarchical_fact.cpp <br>
wrapper/cmd_line/src/launch_hierarchical_fact.cpp <br>
Compute the hierarchical factorization of a given data matrix A in cmdline mode. <br>
target name : wrapper/cmd_line/bin/launch_hierarchical_fact <br>

\subsection Target6 Target 6 : launch_palm4MSA
configuration file : cmd_line/cmdline_function/launch_palm4MSA.cpp <br>
wrapper/cmd_line/src/launch_palm4MSA.cpp <br>
Launch_palm4MSA command-line factorizes an input matrix corresponding to an operator of interest into J sparse factors and converges to a stationary point. <br>
target name : wrapper/cmd_line/bin/launch_palm4MSA <br>

<HR>

\section Demo Demonstration
\subsection Demo1 Demo 1 : Source localization in the context of functional brain imaging :
Faust was used in a experience of source localization in brain image.<br>
Different FAUST approximation of a Magnetoencephalography (MEG) gain matrix "Mi" was computed using hierarchical_fact.<br>
A SparseCoding algorithm was used to solve this source localization problem using the MEG gain matrix or its FAUST approximation.<br>
The following pictures illustrate the different trade-offs between speed-up and error of localization using MEG matrix or FAUST matrix.<br>

\image html MEG_computed_time.jpg "computing time" width=2cm
\image html MEG_distance.jpg "distance between estimated sources and true ones" width=2cm
in progress...<br>

\subsection Demo2 Demo 2 : Image denoising :
The goal of this demo is to enhancement a noisy image.<br>
in progress...<br>

<HR>
\authors Adrien Leman, Nicolas Bellot, Thomas Gautrais
\date 03/2016

<HR>

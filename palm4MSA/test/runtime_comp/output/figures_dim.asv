close all;
clear all;

colorS={'r','g','b','m'};
nbr_factor=2;
DIM_dep=32;
DIM_fin=128;
nbr_dim=(log(DIM_FIN)-log(DIM))/log(2)+1;
density_max=0.5;
NB_SAMPLE=8;
NB_RUN=100;
n_diff_nbr_factor = length(suite_nbr_factor);
inputfile_root=['time_comp_DIM_' int2str(DIM_dep) '_' int2str(DIM_fin)];
inputfile_root=[inputfile_root '_NB_FACT_' int2str(nbr_factor) '_density_max_' num2str(density_max)];
inputfile=[inputfile_root '.mat'];

load(inputfile);
t=density_max/NB_SAMPLE:density_max/NB_SAMPLE:density_max;
figure,
hold on
varS_dense = [];
var_fact=[];
var_dense=[];
legend_var=cell(1,n_diff_nbr_factor+1);
for i=1:nbr_dim
    
   var_fact_tmp=eval(['t_fact_',int2str(suite_nbr_factor(i))]);
   var_dense_tmp=eval(['t_dense_',int2str(suite_nbr_factor(i))]);
   
   var_fact = cat(3,var_fact,var_fact_tmp);
   var_dense = cat(3,var_dense,var_fact_tmp);
   
   p=plot(t,mean(var_fact),colorS{i},'linewidth',2);
   varS_dense=cat(3,varS_dense,var_dense);
    legend_var{i}=['nbr factor ' int2str(suite_nbr_factor(i))];
end



var_fact_mean=squeeze(mean(var_fact));
var_dense_mean=squeeze(mean(var_dense));

figure,
title(['Prod Faust Vector (DIM ' int2str(DIM) ')']);
imagesc(var_fact_mean);



figure,
title(['Prod Dense Mat Vector (DIM ' int2str(DIM) ')']);
imagesc(var__mean);


% xlabel('Density %','fontsize',14);
% ylabel('Time (s)','fontsize',14);
% h=legend(A,legend_var,'location','northwest','fontsize',14);
% set(h,'fontsize',12,'location','northwest');
% 
% output_dir='figures/';
% im_file=[output_dir inputfile_root '.jpeg'];
% print(im_file,'-djpeg');
